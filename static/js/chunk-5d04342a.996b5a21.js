(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d04342a","chunk-600fd891"],{"1b29":function(t,e,a){"use strict";var n=a("3812"),o=a.n(n);o.a},3812:function(t,e,a){},"56c8":function(t,e,a){"use strict";var n=a("60df"),o=a.n(n);o.a},"60df":function(t,e,a){},"7b94":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"topTitle"},[a("span"),a("span",{staticClass:"title"},[t._v(t._s(t.title))])])},o=[],i={props:{title:{type:String,required:!0}},data:function(){return{}}},r=i,s=(a("1b29"),a("2877")),c=Object(s["a"])(r,n,o,!1,null,"b4ebadd8",null);e["a"]=c.exports},"9b0d":function(t,e,a){"use strict";var n=a("c8b6"),o=a.n(n);o.a},b17a:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("TopTitle",{attrs:{title:t.title}}),t._v(" "),a("div",{staticClass:"displayContent"},[a("div",{staticClass:"account_top"},[a("span",[t._v("剩余金币："),a("span",[t._v(t._s(t.coin))])]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("去充值")])],1),t._v(" "),a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.changeTab}},[a("el-tab-pane",{attrs:{label:"充值记录"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.rechargeRecord}},[a("el-table-column",{attrs:{prop:"created_at",label:"充值时间","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.created_at?[t._v("\n              "+t._s(e.row.created_at)+"\n            ")]:void 0}}],null,!0)}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"充值金额","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"company.coin",label:"获得金币数","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"支付方式","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.created_at?[t._v("\n              微信支付\n            ")]:void 0}}],null,!0)})],1),t._v(" "),t.total?a("div",{staticClass:"pagingBox"},[a("el-pagination",{attrs:{"current-page":t.searchOption.pagination.currentPage,"page-sizes":t.searchOption.pagination.mode,"page-size":t.searchOption.pagination.defaultMode,background:"","prev-text":"上一页","next-text":"下一页",layout:"prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange}})],1):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"消费记录"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.consumptionRecords}},[a("el-table-column",{attrs:{prop:"created_at",label:"时间","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.created_at?[t._v("\n              "+t._s(e.row.created_at)+"\n            ")]:void 0}}],null,!0)}),t._v(" "),a("el-table-column",{attrs:{prop:"coin",label:"消耗金币数","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"data3y",label:"方式","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"user_name",label:"用户昵称","min-width":"100"}})],1),t._v(" "),t.total?a("div",{staticClass:"pagingBox"},[a("el-pagination",{attrs:{"current-page":t.searchOption.pagination.currentPage,"page-sizes":t.searchOption.pagination.mode,"page-size":t.searchOption.pagination.defaultMode,background:"","prev-text":"上一页","next-text":"下一页",layout:"prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange}})],1):t._e()],1)],1)],1),t._v(" "),a("el-dialog",{staticClass:"rechargeDialog",attrs:{visible:t.dialogVisible,width:"46%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",[a("div",{staticClass:"demo-input-suffix"},[t._v("\n        充值金额：\n        "),a("el-input",{attrs:{placeholder:"请输入充值金额"},model:{value:t.rechargeAmount,callback:function(e){t.rechargeAmount=e},expression:"rechargeAmount"}}),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:!t.rechargeAmount},on:{click:t.payCode}},[t._v("生成支付码")])],1),t._v(" "),a("div",{staticClass:"payment_code"},[a("span",[a("div",{ref:"qrcode",attrs:{id:"qrcode"}}),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.qrCode,expression:"qrCode"}]},[t._v("微信支付")])]),t._v(" "),a("span",{staticClass:"line"}),t._v(" "),a("span")])])])],1)},o=[],i=(a("c5f6"),a("7b94")),r=a("072e"),s=a("d044"),c=a.n(s),l={components:{TopTitle:i["a"]},data:function(){return{BASE_API:Object({NODE_ENV:"production",VUE_APP_BASE_API:"https://api.shjietui.com",BASE_URL:"/"}).BASE_API,title:"我的账号",rechargeRecord:[{data1:"11624861492149",data2:"充值金额",data3:"获得金币数",data4:"支付方式"}],consumptionRecords:[{data1y:"812648169149",data2y:"消耗金币数",data3y:"方式",data4y:"用户昵称"}],searchOption:{pagination:{currentPage:1,mode:[10,20,50,100],defaultMode:10}},total:100,dialogVisible:!1,rechargeAmount:"",coin:"",qrCode:""}},created:function(){console.log("当前组件渲染完成:"),console.log(this.$route.query.id),this.getInfo(),this.getPayList()},mounted:function(){},methods:{getInfo:function(){var t=this;Object(r["g"])().then((function(e){console.log(e),t.coin=e.data.coin}))},getPayList:function(){var t=this,e={company_id:""},a=this.$qs.stringify(e);Object(r["j"])(a).then((function(e){console.log(e),t.rechargeRecord=e.data,t.total=Number(e.headers["x-total"])}))},getCostList:function(){var t=this,e={company_id:""},a=this.$qs.stringify(e);Object(r["i"])(a).then((function(e){console.log(e),t.consumptionRecords=e.data}))},handleCurrentChange:function(t){console.log(t)},handleClose:function(t){console.log("关闭"),this.$refs.qrcode.innerHTML="",this.rechargeAmount="",this.qrCode="",this.dialogVisible=!1,this.getInfo()},changeTab:function(t){console.log(t),t.index,"1"===t.index&&this.getCostList()},payCode:function(){var t=this,e={amount:this.rechargeAmount},a=this.$qs.stringify(e);Object(r["d"])(a).then((function(e){console.log(e),t.qrCode=e.data.qrcode,t.qrcode(e.data.qrcode)}))},qrcode:function(t){new c.a(this.$refs.qrcode,{width:132,height:132,text:t})}}},d=l,u=(a("9b0d"),a("56c8"),a("2877")),p=Object(u["a"])(d,n,o,!1,null,"71820201",null);e["default"]=p.exports},c8b6:function(t,e,a){}}]);