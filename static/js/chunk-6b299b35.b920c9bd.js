(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b299b35"],{"09f4":function(t,a,e){"use strict";e.d(a,"a",(function(){return n})),Math.easeInOutQuad=function(t,a,e,o){return t/=o/2,t<1?e/2*t*t+a:(t--,-e/2*(t*(t-2)-1)+a)};var o=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function i(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function s(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function n(t,a,e){var n=s(),l=t-n,r=20,c=0;a="undefined"===typeof a?500:a;var d=function t(){c+=r;var s=Math.easeInOutQuad(c,n,l,a);i(s),c<a?o(t):e&&"function"===typeof e&&e()};d()}},"2f21":function(t,a,e){"use strict";var o=e("79e5");t.exports=function(t,a){return!!t&&o((function(){a?t.call(null,(function(){}),1):t.call(null)}))}},"393d":function(t,a,e){"use strict";var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dialog-container"},[e("el-row",[e("div",{staticClass:"inputBox fr"},[e("el-input",{attrs:{placeholder:"搜索任务名称",size:"small"},on:{blur:t.handleFilter},model:{value:t.listQuery.condition1,callback:function(a){t.$set(t.listQuery,"condition1",a)},expression:"listQuery.condition1"}},[e("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},slot:"suffix"})])],1)]),t._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.data},on:{"sort-change":t.sortChange}},[e("el-table-column",{attrs:{prop:"data1",label:t.child.firstColumnName,"min-width":"180"}}),t._v(" "),e("el-table-column",{attrs:{prop:"data2",label:"金币数",sortable:"custom","class-name":t.getSortClass("data5"),"min-width":"100"}}),t._v(" "),e("el-table-column",{attrs:{prop:"data3",label:"领取量",sortable:"custom","class-name":t.getSortClass("data6"),"min-width":"100"}}),t._v(" "),e("el-table-column",{attrs:{prop:"data4",label:"任务时间","min-width":"180"}}),t._v(" "),e("el-table-column",{attrs:{prop:"data5",width:"230",label:"选择","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.row.id!=t.child.taskId?e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(){return t.SingleOperation(a.row.id)}}},[t._v("选择")]):t._e(),t._v(" "),a.row.id==t.child.taskId?e("el-button",{staticStyle:{color:"#ccc"},attrs:{type:"text",size:"small"}},[t._v("已选择")]):t._e()]}}])})],1),t._v(" "),t.total?e("div",{staticClass:"pagingBox"},[e("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(a){return t.$set(t.listQuery,"page",a)},"update:limit":function(a){return t.$set(t.listQuery,"limit",a)},pagination:t.getList}})],1):t._e()],1)},i=[],s=(e("55dd"),e("333d")),n={components:{Pagination:s["a"]},props:{child:{type:Object,required:!0}},data:function(){return{search:"",listQuery:{page:1,limit:20,condition1:void 0,title:void 0,type:void 0,sort:"+id"},data:[{data1:"data1",data2:"data2",data3:"data3",data4:"data4",data5:"data5",data6:"data6",data7:"data7",id:12}],total:100,currentId:""}},watch:{child:{handler:function(t,a){console.log(t,a)},deep:!0}},created:function(){},methods:{getList:function(){console.log(this.listQuery)},SingleOperation:function(t){this.currentId=t,this.$emit("updataId",t)},handleCurrentChange:function(t){console.log(t)},sortChange:function(t){console.log(t);var a=t.prop,e=t.order;a&&this.sortByID(e,a)},sortByID:function(t,a){this.listQuery.sort="ascending"===t?"+".concat(a):"-".concat(a),this.handleFilter()},handleFilter:function(){this.listQuery.page=1,this.getList()},getSortClass:function(t){var a=this.listQuery.sort;return a==="+".concat(t)?"ascending":a==="-".concat(t)?"descending":""}}},l=n,r=(e("d02c"),e("2877")),c=Object(r["a"])(l,o,i,!1,null,"57587718",null);a["a"]=c.exports},"55dd":function(t,a,e){"use strict";var o=e("5ca1"),i=e("d8e8"),s=e("4bf8"),n=e("79e5"),l=[].sort,r=[1,2,3];o(o.P+o.F*(n((function(){r.sort(void 0)}))||!n((function(){r.sort(null)}))||!e("2f21")(l)),"Array",{sort:function(t){return void 0===t?l.call(s(this)):l.call(s(this),i(t))}})},d02c:function(t,a,e){"use strict";var o=e("ffe8"),i=e.n(o);i.a},fded:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-container"},[e("TopTitle",{attrs:{title:t.title}}),t._v(" "),e("div",{staticClass:"displayContent"},[e("el-form",{ref:"formNode",staticClass:"form-item",attrs:{model:t.formData,rules:t.formRules,"label-width":"180px"}},[e("el-form-item",{attrs:{label:"每日签到奖励",prop:"goodsClassifyTwo"}}),t._v(" "),e("el-form-item",{attrs:{label:"",prop:"goodsClassifyTwo"}},[e("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.formData.goodsClassifyTwo,callback:function(a){t.$set(t.formData,"goodsClassifyTwo",a)},expression:"formData.goodsClassifyTwo"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"连续签到奖励",prop:"brandName"}},[e("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.formData.brandName,callback:function(a){t.$set(t.formData,"brandName",a)},expression:"formData.brandName"}})],1),t._v(" "),e("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.formData.brandName,expression:"formData.brandName"}],attrs:{label:"",prop:"brandName"}},[e("div",[t._l(t.awardRules,(function(a,o){return e("div",{key:o},[e("span",[t._v("连续签到")]),t._v(" "),e("el-input",{attrs:{type:"number"},on:{blur:function(){return t.changeDays(a.days,o)}},model:{value:a.days,callback:function(e){t.$set(a,"days",e)},expression:"item.days"}}),t._v(" "),e("span",[t._v(",奖励")]),t._v(" "),e("el-input",{attrs:{type:"number"},on:{blur:function(){return t.changeGoldCoin(a.goldCoin,o)}},model:{value:a.goldCoin,callback:function(e){t.$set(a,"goldCoin",e)},expression:"item.goldCoin"}}),t._v(" "),e("span",[t._v("金币")]),t._v(" "),e("el-button",{attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(){return t.triggerDialog("0",o)}}},[t._v("删除")])],1)})),t._v(" "),e("el-button",{attrs:{type:"text",icon:"el-icon-plus"},on:{click:function(){return t.triggerDialog("1")}}},[t._v("增加规则")]),t._v(" "),e("span",[t._v("最多添加20个")])],2)]),t._v(" "),e("el-form-item",[e("el-button",{attrs:{size:"mini",type:"primary"},on:{clcik:function(a){return t.operationButton(1)}}},[t._v("保存")]),t._v(" "),e("el-button",{attrs:{size:"mini",type:"primary"},on:{clcik:function(a){return t.operationButton(2)}}},[t._v("取消")])],1)],1),t._v(" "),e("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogTableVisible},on:{"update:visible":function(a){t.dialogTableVisible=a}}},[e("chooseTask",{attrs:{child:t.tableData},on:{updataId:t.changeTaskId}})],1)],1)],1)},i=[],s=(e("c5f6"),e("ac6a"),e("7b94")),n=e("393d"),l={components:{TopTitle:s["a"],chooseTask:n["a"]},data:function(){return{BASE_API:Object({NODE_ENV:"production",VUE_APP_BASE_API:"https://api.shjietui.com",BASE_URL:"/"}).BASE_API,dialogTableVisible:!1,formData:{goodsClassifyTwo:"",brandName:!1,goodsImageUrlList:""},awardRules:[{days:"",goldCoin:""}],tableData:{type:"",firstColumnName:"",taskId:""},formOption:{goodsImageList:[]},formRules:{aaa:[{required:!0,message:"zzz不能为空",trigger:"change"}]},title:"添加/编辑任务广告",disabled:!1,dialogTitle:""}},created:function(){console.log("当前组件渲染完成:")},methods:{init:function(){console.log("加载默认数据");var t={};this.$webApi.parent("API",t).then((function(t){console.log(t)}))},onSubmit:function(t){var a=this;this.$refs[t].validate((function(e){if(e){console.log("提交表单:"),console.log(a.formData);var o={goodsClassifyTwo:a.formData.goodsClassifyTwo,brandName:a.formData.brandName,goodsImageUrlList:a.formData.goodsImageUrlList};o.specificationsList.forEach((function(t){""===t.pricingRmb&&t.pricingRmb}));var i={platformId:a.$route.params.qid};a.$webApi.product("update",o,i).then((function(e){console.log(e),a.$store.dispatch("setLoadingStatus",!1),a.$refs[t].resetFields(),a.$message({type:"success",message:"编辑成功!"}),a.reload()})).catch((function(){a.$store.dispatch("setLoadingStatus",!1)}))}}))},resetForm:function(t,a){console.log("重置表单:"),this[a]=!1,this.$refs[t].resetFields()},queryClassifyListByParentId:function(t,a,e){var o=this,i={parentId:t},s={platformId:this.$route.params.qid};this.$webApi.public("queryClassifyListByParentId",i,s).then((function(t){console.log("商品分类列表查询-"+a+"级："),console.log(t),1===a?(o.formData.goodsClassifyOne="",o.formData.goodsClassifyTwo="",o.formData.classifyId="",o.formOption.goodsClassifyOneSelectList=t.data&&t.data.length>0?t.data:[],o.formData.goodsClassifyOne=e||""):2===a?(o.formData.goodsClassifyTwo="",o.formData.classifyId="",o.formOption.goodsClassifyTwoSelectList=t.data&&t.data.length>0?t.data:[],o.formData.goodsClassifyTwo=e||""):3===a&&(o.formData.classifyId="",o.formOption.classifySelectList=t.data&&t.data.length>0?t.data:[],o.formData.classifyId=e||"")}))},setDefaultDisplay:function(t){var a=this;this.formData.specificationsList.forEach((function(e,o){a.formData.specificationsList[o].defaultSpecification=t===o?1:0,console.log(a.formData.specificationsList)}))},operationButton:function(t){},changeType:function(t){console.log(t),this.tableData.type=t,this.dialogTitle="选择".concat(this.statesList[t].label),this.tableData.firstColumnName=this.statesList[t].label},triggerDialog:function(t,a){if("0"===t){if(this.awardRules.length<=1)return this.$message.error("最少保留一条奖励规则");this.awardRules.splice(a,1)}else this.awardRules.length<20?this.awardRules.push({days:"",goldCoin:""}):this.$message.error("最多只能添加20条奖励规则")},changeTaskId:function(t){console.log(t),this.tableData.taskId=t},changeDays:function(t,a){if(console.log(t),0!==a&&Number(t)<=Number(this.awardRules[a-1].days))return this.awardRules[a].days="",this.$message.error("奖励不可小于上一级")},changeGoldCoin:function(t,a){if(0!==a&&Number(t)<=Number(this.awardRules[a-1].goldCoin))return this.awardRules[a].goldCoin="",this.$message.error("奖励不可小于上一级")}}},r=l,c=e("2877"),d=Object(c["a"])(r,o,i,!1,null,null,null);a["default"]=d.exports},ffe8:function(t,a,e){}}]);