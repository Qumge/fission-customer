(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66b6b4db"],{4205:function(t,e,a){},"5fe3":function(t,e,a){},"66ea":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dialog-container"},[a("div",{staticClass:"searchInput"},[a("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索","suffix-icon":"el-icon-search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.child.goodList.filter((function(e){return!t.search||e.good.includes(t.search)})),"default-sort":{prop:"date",order:"descending"}}},[a("el-table-column",{attrs:{prop:"good",label:"商品名称",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"价格",sortable:"",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"salesVolume",label:"销量",sortable:"",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stock",label:"库存",sortable:"",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"选择"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("el-button",{staticStyle:{color:"#000"},attrs:{type:"text",size:"small"}},[t._v("已选择")]):t._e(),t._v(" "),0==e.row.status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(){return t.SingleOperation(e.row.id,2)}}},[t._v("选择")]):t._e()]}}])})],1),t._v(" "),t.child.total?a("div",{staticClass:"pagingBox"},[a("el-pagination",{attrs:{"current-page":t.child.searchOption.pagination.currentPage,"page-sizes":t.child.searchOption.pagination.mode,"page-size":t.child.searchOption.pagination.defaultMode,background:"","prev-text":"上一页","next-text":"下一页",layout:"prev, pager, next, jumper",total:t.child.total},on:{"current-change":t.handleCurrentChange}})],1):t._e()],1)},o=[],r={props:{child:{type:Object,required:!0}},data:function(){return{search:""}},methods:{SingleOperation:function(t){},handleCurrentChange:function(t){console.log(t)}}},i=r,s=(a("c316"),a("2877")),c=Object(s["a"])(i,n,o,!1,null,"044ceb6b",null);e["a"]=c.exports},"6dca":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("TopTitle",{attrs:{title:t.title}}),t._v(" "),a("div",{staticClass:"EditMain"},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"任务时间"}},[a("el-col",{attrs:{span:5}},[a("el-date-picker",{staticStyle:{},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.valid_from,callback:function(e){t.$set(t.form,"valid_from",e)},expression:"form.valid_from"}})],1),t._v(" "),a("el-col",{staticClass:"line",attrs:{span:1}},[t._v("至")]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-date-picker",{staticStyle:{},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.valid_to,callback:function(e){t.$set(t.form,"valid_to",e)},expression:"form.valid_to"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"剩余金币"}},[a("el-input",{staticStyle:{width:"600px"},model:{value:t.form.residue_coin,callback:function(e){t.$set(t.form,"residue_coin",e)},expression:"form.residue_coin"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"选择商品"}},[a("el-button",{on:{click:function(e){t.dialogTableVisible=!0}}},[t._v("+从商品库中选择")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.addStore}},[t._v("提交审核")]),t._v(" "),a("el-button",{on:{click:t.goBack}},[t._v("取消")]),t._v(" "),a("el-button",[t._v("预览")])],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"选择商品",visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("choose-good",{attrs:{child:t.form.tableData}})],1)],1)},o=[],r=(a("c5f6"),a("7b94")),i=a("66ea"),s=a("f8a4"),c=a("5f87"),l={components:{TopTitle:r["a"],chooseGood:i["a"]},data:function(){return{title:"",dialogTableVisible:!1,form:{residue_coin:"",valid_from:"",valid_to:"",tableData:{goodList:[],searchOption:{pagination:{currentPage:1,mode:[10,20,50,100],defaultMode:10}},total:100,company_id:""}}}},created:function(){this.form.valid_from=new Date,this.form.valid_to=this.fun_date(7);var t=Object(c["a"])();this.company_id=t.id,this.getDetails(),this.getProList()},methods:{getDetails:function(){var t=this;if(void 0!==this.$route.query.id){this.title="编辑商品任务";var e=this.$route.query.id;Object(s["j"])(e).then((function(e){console.log(e),t.form=e.data}))}else this.title="添加商品任务"},addStore:function(){var t=this;if(void 0===this.$route.query.id){var e=new FormData;e.append("product_id","3"),e.append("coin",this.form.residue_coin),e.append("valid_from",this.form.valid_from),e.append("valid_to",this.form.valid_to),Object(s["c"])(e).then((function(e){console.log(e),t.$message({message:"添加成功",type:"success"}),t.$router.go(-1)}))}else{var a=this.$route.query.id,n=new FormData;n.append("product_id","3"),n.append("coin",void 0===this.form.coin?"":this.form.coin),n.append("valid_from",this.form.valid_from),n.append("valid_to",this.form.valid_to),Object(s["o"])(a,n).then((function(e){console.log(e),t.$message({message:"修改成功",type:"success"}),t.$router.go(-1)}))}},goBack:function(){this.$router.go(-1)},fun_date:function(t){var e=new Date,a=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();console.log(a);var n=new Date(e);n.setDate(e.getDate()+t);var o=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();return console.log(o),o},getProList:function(){var t=this,e={type:"",search:"",company_id:this.company_id,status:"up",page:1,per_page:15};Object(s["k"])(e).then((function(e){console.log(e),t.form.tableData.goodList=e.data,t.form.tableData.total=Number(e.headers["x-total"])}))}}},u=l,d=(a("d46f"),a("2877")),f=Object(d["a"])(u,n,o,!1,null,"2578826a",null);e["default"]=f.exports},"7b94":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"topTitle"},[a("span"),a("span",{staticClass:"title"},[t._v(t._s(t.title))])])},o=[],r={props:{title:{type:String,required:!0}},data:function(){return{}}},i=r,s=(a("d98e"),a("2877")),c=Object(s["a"])(i,n,o,!1,null,"24a0e96e",null);e["a"]=c.exports},"8e5e":function(t,e,a){},c316:function(t,e,a){"use strict";var n=a("5fe3"),o=a.n(n);o.a},d46f:function(t,e,a){"use strict";var n=a("8e5e"),o=a.n(n);o.a},d98e:function(t,e,a){"use strict";var n=a("4205"),o=a.n(n);o.a},f8a4:function(t,e,a){"use strict";a.d(e,"l",(function(){return o})),a.d(e,"k",(function(){return r})),a.d(e,"c",(function(){return i})),a.d(e,"j",(function(){return s})),a.d(e,"o",(function(){return c})),a.d(e,"e",(function(){return l})),a.d(e,"a",(function(){return u})),a.d(e,"d",(function(){return d})),a.d(e,"m",(function(){return f})),a.d(e,"i",(function(){return p})),a.d(e,"b",(function(){return m})),a.d(e,"h",(function(){return _})),a.d(e,"n",(function(){return h})),a.d(e,"g",(function(){return v})),a.d(e,"f",(function(){return g})),a.d(e,"p",(function(){return b}));var n=a("b775");function o(t){return n["a"].get("task_products",{params:t})}function r(t){return n["a"].get("products",{params:t})}function i(t){return n["a"].post("task_products",t)}function s(t){return n["a"].get("task_products/".concat(t))}function c(t,e){return n["a"].patch("task_products/".concat(t),e)}function l(t){return n["a"].get("task_articles",{params:t})}function u(t){return n["a"].post("task_articles",t)}function d(t){return n["a"].get("task_articles/".concat(t))}function f(t,e){return n["a"].patch("task_articles/".concat(t),e)}function p(t){return n["a"].get("task_questionnaires",{params:t})}function m(t){return n["a"].post("task_questionnaires",t)}function _(t){return n["a"].get("task_questionnaires/".concat(t))}function h(t,e){return n["a"].patch("task_questionnaires/".concat(t),e)}function v(t){return n["a"].get("task_game",{params:t})}function g(t){return n["a"].get("task_game/".concat(t))}function b(t){return n["a"].post("tasks/audit",t)}}}]);