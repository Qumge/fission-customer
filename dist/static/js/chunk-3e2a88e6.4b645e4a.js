(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e2a88e6","chunk-600fd891"],{"1b29":function(t,e,a){"use strict";var n=a("3812"),i=a.n(n);i.a},3812:function(t,e,a){},"4ebd":function(t,e,a){},"56c8":function(t,e,a){"use strict";var n=a("60df"),i=a.n(n);i.a},"60df":function(t,e,a){},"7b94":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"topTitle"},[a("span"),a("span",{staticClass:"title"},[t._v(t._s(t.title))])])},i=[],o={props:{title:{type:String,required:!0}},data:function(){return{}}},r=o,s=(a("1b29"),a("2877")),c=Object(s["a"])(r,n,i,!1,null,"b4ebadd8",null);e["a"]=c.exports},b17a:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("TopTitle",{attrs:{title:t.title}}),t._v(" "),a("div",{staticClass:"displayContent"},[a("div",{staticClass:"account_top"},[a("span",[t._v("剩余金币："),a("span",[t._v(t._s(t.coin))])]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("去充值")])],1),t._v(" "),a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.changeTab}},[a("el-tab-pane",{attrs:{label:"充值记录"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.rechargeRecord}},[a("el-table-column",{attrs:{prop:"created_at",label:"充值时间","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.created_at?[t._v("\n              "+t._s(e.row.created_at)+"\n            ")]:void 0}}],null,!0)}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"充值金额","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"coin",label:"获得金币数","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"支付方式","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.created_at?[t._v("\n              微信支付\n            ")]:void 0}}],null,!0)})],1),t._v(" "),t.total1?a("div",{staticClass:"pagingBox"},[a("el-pagination",{attrs:{"current-page":t.searchOption1.pagination.currentPage,"page-sizes":t.searchOption1.pagination.mode,"page-size":t.searchOption1.pagination.defaultMode,background:"","prev-text":"上一页","next-text":"下一页",layout:"prev, pager, next, jumper",total:t.total1},on:{"current-change":function(e){return t.handleCurrentChange(1)}}})],1):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"消费记录"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.consumptionRecords}},[a("el-table-column",{attrs:{prop:"created_at",label:"时间","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.created_at?[t._v("\n              "+t._s(e.row.created_at)+"\n            ")]:void 0}}],null,!0)}),t._v(" "),a("el-table-column",{attrs:{prop:"coin",label:"消耗金币数","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"channel",label:"渠道","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"user_name",label:"用户昵称","min-width":"100"}})],1),t._v(" "),t.total2?a("div",{staticClass:"pagingBox"},[a("el-pagination",{attrs:{"current-page":t.searchOption2.pagination.currentPage,"page-sizes":t.searchOption2.pagination.mode,"page-size":t.searchOption2.pagination.defaultMode,background:"","prev-text":"上一页","next-text":"下一页",layout:"prev, pager, next, jumper",total:t.total2},on:{"current-change":function(e){return t.handleCurrentChange(2)}}})],1):t._e()],1)],1)],1),t._v(" "),a("el-dialog",{staticClass:"rechargeDialog",attrs:{visible:t.dialogVisible,width:"46%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",[a("div",{staticClass:"demo-input-suffix"},[t._v("\n        充值金额：\n        "),a("el-input",{attrs:{placeholder:"请输入充值金额"},model:{value:t.rechargeAmount,callback:function(e){t.rechargeAmount=e},expression:"rechargeAmount"}}),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:!t.rechargeAmount},on:{click:t.payCode}},[t._v("生成支付码")])],1),t._v(" "),a("div",{staticClass:"payment_code"},[a("span",[a("div",{ref:"qrcode",attrs:{id:"qrcode"}}),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.qrCode,expression:"qrCode"}]},[t._v("微信支付")])]),t._v(" "),a("span",{staticClass:"line"}),t._v(" "),a("span")])])])],1)},i=[],o=(a("c5f6"),a("7b94")),r=a("072e"),s=a("d044"),c=a.n(s),l={components:{TopTitle:o["a"]},data:function(){return{BASE_API:Object({NODE_ENV:"production",VUE_APP_BASE_API:"https://api.shjietui.com",BASE_URL:"/"}).BASE_API,title:"我的账号",rechargeRecord:[{data1:"11624861492149",data2:"充值金额",data3:"获得金币数",data4:"支付方式"}],consumptionRecords:[{data1y:"812648169149",data2y:"消耗金币数",data3y:"方式",data4y:"用户昵称"}],searchOption1:{pagination:{currentPage:1,mode:[10,20,50,100],defaultMode:10}},searchOption2:{pagination:{currentPage:1,mode:[10,20,50,100],defaultMode:10}},total1:100,total2:100,dialogVisible:!1,rechargeAmount:"",coin:"",qrCode:""}},created:function(){this.getInfo(),this.getPayList()},mounted:function(){},methods:{getInfo:function(){var t=this;Object(r["j"])().then((function(e){200===e.status&&(t.coin=e.data.coin)}))},getPayList:function(){var t=this,e={page:this.searchOption1.pagination.currentPage,per_page:15,company_id:""},a=this.$qs.stringify(e);Object(r["n"])(a).then((function(e){200===e.status&&(t.rechargeRecord=e.data,t.total1=Number(e.headers["x-total"]))}))},getCostList:function(){var t=this,e={page:this.searchOption2.pagination.currentPage,per_page:15,company_id:""},a=this.$qs.stringify(e);Object(r["m"])(a).then((function(e){200===e.status&&(t.consumptionRecords=e.data,t.total2=Number(e.headers["x-total"]))}))},handleCurrentChange:function(t,e){1===e?(this.searchOption1.pagination.currentPage=t,this.getPayList()):(this.searchOption2.pagination.currentPage=t,this.getCostList())},handleClose:function(t){this.$refs.qrcode.innerHTML="",this.rechargeAmount="",this.qrCode="",this.dialogVisible=!1,this.getInfo()},changeTab:function(t){"0"===t.index&&this.getPayList(),"1"===t.index&&this.getCostList()},payCode:function(){var t=this,e={amount:this.rechargeAmount,company_id:""},a=this.$qs.stringify(e);Object(r["f"])(a).then((function(e){200===e.status&&(t.qrCode=e.data.qrcode,t.qrcode(e.data.qrcode))}))},qrcode:function(t){new c.a(this.$refs.qrcode,{width:132,height:132,text:t})}}},d=l,u=(a("d6a8"),a("56c8"),a("2877")),p=Object(u["a"])(d,n,i,!1,null,"7b141728",null);e["default"]=p.exports},d6a8:function(t,e,a){"use strict";var n=a("4ebd"),i=a.n(n);i.a}}]);