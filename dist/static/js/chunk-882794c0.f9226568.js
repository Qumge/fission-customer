(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-882794c0","chunk-600fd891"],{"1b29":function(e,t,n){"use strict";var o=n("3812"),r=n.n(o);r.a},3812:function(e,t,n){},"7b94":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"topTitle"},[n("span"),n("span",{staticClass:"title"},[e._v(e._s(e.title))])])},r=[],a={props:{title:{type:String,required:!0}},data:function(){return{}}},i=a,c=(n("1b29"),n("2877")),l=Object(c["a"])(i,o,r,!1,null,"b4ebadd8",null);t["a"]=l.exports},fb6d:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("TopTitle",{attrs:{title:e.title}}),e._v(" "),n("div",{staticClass:"displayContent"},[n("el-form",{ref:"formNode",staticClass:"form-item",attrs:{model:e.formData,rules:e.formRules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"角色名称",prop:"name"}},[n("el-input",{model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"权限点",prop:"resources"}},[n("el-tree",{ref:"tree1",staticClass:"filter-tree",attrs:{data:e.filterData,"show-checkbox":"","default-expand-all":!0,"node-key":"title","current-node-key":e.aaa,props:e.defaultProps,"filter-node-method":e.DisplayNote},on:{"check-change":e.getSelectedMenu}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.resetForm("formNode")}}},[e._v("取消")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.onSubmit("formNode")}}},[e._v("保存")])],1)],1)],1)],1)},r=[],a=(n("7f7f"),n("ac6a"),n("072e")),i=n("7b94"),c={components:{TopTitle:i["a"]},data:function(){return{aaa:"",title:"添加 / 编辑角色",formData:{name:"",resources:""},formRules:{name:[{required:!0,message:"角色名称不能为空",trigger:"change"}],resources:[{required:!0,message:"权限不能为空",trigger:"change"}]},data2:[{path:"/main",component:function(){return Promise.resolve().then(n.bind(null,"c1f7"))},title:"首页",children:[{path:"index",name:"index",component:function(){return Promise.all([n.e("chunk-14da9915"),n.e("chunk-6eb6b943")]).then(n.bind(null,"9406"))},hidden:!0,icon:"zhuye",title:"首页"}]},{path:"/commodity/",component:function(){return Promise.resolve().then(n.bind(null,"c1f7"))},icon:"shangpin",title:"商品管理",children:[{path:"businessCommodity",name:"businessCommodity",component:function(){return Promise.resolve().then(n.bind(null,"1a4e"))},title:"商家商品"},{path:"goldCoinMall",name:"goldCoinMall",component:function(){return Promise.resolve().then(n.bind(null,"1a4e"))},title:"金币商城"},{path:"commodityClassification",name:"commodityClassification",component:function(){return n.e("chunk-0dc7301f").then(n.bind(null,"ba61"))},title:"商品分类"}]},{path:"/order/",component:function(){return Promise.resolve().then(n.bind(null,"c1f7"))},icon:"box",title:"订单管理",children:[{path:"platformOrderState",name:"platformOrderState",component:function(){return Promise.resolve().then(n.bind(null,"1a4e"))},title:"平台订单"},{path:"merchantOrderState",name:"merchantOrderState",component:function(){return Promise.resolve().then(n.bind(null,"1a4e"))},title:"商户订单"}]},{path:"/task/",component:function(){return Promise.resolve().then(n.bind(null,"c1f7"))},icon:"renwu",title:"任务管理",children:[{path:"commodityTask",name:"commodityTask",component:function(){return Promise.resolve().then(n.bind(null,"1a4e"))},title:"商品任务"},{path:"gameTask",name:"gameTask",component:function(){return Promise.resolve().then(n.bind(null,"1a4e"))},title:"游戏任务"},{path:"investigationTask",name:"investigationTask",component:function(){return Promise.resolve().then(n.bind(null,"1a4e"))},title:"调查任务"},{path:"readTask",name:"readTask",component:function(){return Promise.resolve().then(n.bind(null,"1a4e"))},title:"阅读任务"}]},{path:"/release/",component:function(){return Promise.resolve().then(n.bind(null,"c1f7"))},icon:"fabu",title:"发布管理"},{path:"/merchant/",component:function(){return Promise.resolve().then(n.bind(null,"c1f7"))},title:"商户管理"},{path:"/data/",component:function(){return Promise.resolve().then(n.bind(null,"c1f7"))},icon:"shuju",title:"数据管理",children:[{path:"operateTaskData",name:"commodityState",component:function(){return Promise.resolve().then(n.bind(null,"1a4e"))},title:"任务数据"},{path:"userData",name:"commodityState",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-14da9915"),n.e("chunk-567b0ef9")]).then(n.bind(null,"ba8f"))},props:function(e){return{query:"userData"}},title:"用户数据"},{path:"merchantData",name:"commodityState",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-14da9915"),n.e("chunk-567b0ef9")]).then(n.bind(null,"ba8f"))},props:function(e){return{query:"merchantData"}},title:"商户数据"},{path:"transactionData",name:"commodityState",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-14da9915"),n.e("chunk-567b0ef9")]).then(n.bind(null,"ba8f"))},props:function(e){return{query:"transactionData"}},title:"交易数据"},{path:"platformGame",name:"commodityState",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-14da9915"),n.e("chunk-567b0ef9")]).then(n.bind(null,"ba8f"))},props:function(e){return{query:"platformGame"}},title:"平台游戏"}]},{path:"/platform/",component:function(){return Promise.resolve().then(n.bind(null,"c1f7"))},icon:"pingtai",title:"平台管理",children:[{path:"platformGame",name:"platformGame",component:function(){return n.e("chunk-7fe5da40").then(n.bind(null,"659e"))},title:"平台游戏"},{path:"cashManagement",name:"cashManagement",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-557311c8")]).then(n.bind(null,"8785"))},title:"提现管理"},{path:"advertisement",name:"advertisement",component:function(){return n.e("chunk-6eb89a86").then(n.bind(null,"3667"))},title:"广告位配置"},{path:"signIn",name:"signIn",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-30ceacde")]).then(n.bind(null,"fded"))},title:"签到配置"},{path:"awardRules",name:"awardRules",component:function(){return n.e("chunk-4936f6fe").then(n.bind(null,"12ef"))},title:"奖励规则"},{path:"addressLibrary",name:"addressLibrary",component:function(){return n.e("chunk-6d8e7182").then(n.bind(null,"65c0"))},title:"地址库"}]},{path:"/log/",component:function(){return Promise.resolve().then(n.bind(null,"c1f7"))},title:"日志管理"},{path:"/system/",component:function(){return Promise.resolve().then(n.bind(null,"c1f7"))},icon:"xitong",title:"系统管理",children:[{path:"accountManagement",name:"accountManagement",component:function(){return n.e("chunk-3c67d06a").then(n.bind(null,"7c4d0"))},title:"账号管理"},{path:"roleManagement",name:"roleManagement",component:function(){return n.e("chunk-e4c615fc").then(n.bind(null,"6e40"))},title:"角色管理"}]}],defaultProps:{children:"children",label:"title"},filterText:""}},computed:{filterData:function(){for(var e=this.data2,t=[],n=0;n<e.length;n++)if(e[n].children){for(var o=[],r=0;r<e[n].children.length;r++)!0!==e[n].children[r].hidden&&!0!==e[n].children[r].notShow&&o.push(e[n].children[r]);e[n].children=o,t.push(e[n])}else!0!==e[n].hidden&&!0!==e[n].notShow&&t.push(e[n]);return t}},watch:{filterText:function(e){this.$refs.tree1.filter(e)}},mounted:function(){this.$refs.tree1.filter(!0)},created:function(){var e=this,t=this.$route.query.id;t?Object(a["p"])(t).then((function(t){if(200===t.status){var n=t.data,o=[];t.data.resources.forEach((function(e){o.push(e.name)})),n.resources=o,e.$refs.tree1.setCheckedKeys(o),e.formData=n}})):document.title="添加角色"},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){var n={name:t.formData.name,resource_names:JSON.stringify(t.formData.resources)},o=t.$qs.stringify(n),r=t.$route.query.id;r?Object(a["r"])(r,n).then((function(e){200===e.status&&(t.$message({type:"success",message:"编辑成功!"}),t.$router.push("/system/roleManagement"))})):Object(a["h"])(o).then((function(e){200===e.status&&(t.$message({type:"success",message:"创建成功!"}),t.$router.push("/system/roleManagement"))}))}}))},getSelectedMenu:function(){var e=this.$refs.tree1.getCheckedNodes(!1,!0),t=[];e.forEach((function(e){t.push(e.title)})),this.$set(this.formData,"resources",t)},DisplayNote:function(e,t,n){return!0!==t.hidden&&!0!==t.notShow},resetForm:function(e,t){this[t]=!1,this.$refs.tree1.setCheckedNodes([]),this.$refs[e].resetFields(),this.$router.push("/system/roleManagement")}}},l=c,s=n("2877"),u=Object(s["a"])(l,o,r,!1,null,"afb54032",null);t["default"]=u.exports}}]);