(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52de8826"],{"484b":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"container"},[n("el-row",{attrs:{getter:30}},[n("el-col",{attrs:{span:3}},[n("router-link",{attrs:{to:t.tableData.length<6?"editPostBanner":""}},[n("el-button",{class:t.tableData.length<6?"":"iconFalse",attrs:{type:"text",icon:"el-icon-plus"}},[t._v("添加任务广告")])],1)],1),n("el-col",{attrs:{span:4}},[n("div",{staticClass:"tips"},[t._v("最多添加6个")])])],1),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[n("el-table-column",{attrs:{prop:"id",label:"编号","min-width":"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"image.image_path",label:"banner图片","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[null!==e.row.image.image_path?n("img",{staticStyle:{height:"50px"},attrs:{src:e.row.image.image_path,alt:""}}):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"task.type",label:"任务类型","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.task&&"Task::ArticleTask"===e.row.task.type?"阅读任务":"")+"\n          "+t._s(e.row.task&&"Task::ProductTask"===e.row.task.type?"商品任务":"")+"\n          "+t._s(e.row.task&&"Task::GameTask"===e.row.task.type?"游戏任务":"")+"\n          "+t._s(e.row.task&&"Task::QuestionnaireTask"===e.row.task.type?"调查任务":"")+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"task.name",label:"任务名称","min-width":"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"id",width:"230",label:"操作","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("router-link",{attrs:{to:"editPostBanner?id="+e.row.id}},[n("el-button",{attrs:{type:"text",size:"small"}},[t._v("编辑")])],1),t._v(" "),1!=t.tableData.length&&0!=e.$index?n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(){return t.SingleOperation(e.row.id,1)}}},[t._v("上移")]):t._e(),t._v(" "),e.$index!=t.tableData.length-1&&1!=t.tableData.length?n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(){return t.SingleOperation(e.row.id,2)}}},[t._v("下移")]):t._e(),t._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(){return t.SingleOperation(e.row.id,3)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),n("el-dialog",{attrs:{title:t.dialogTipContent.title,visible:t.dialogTipContent.visible,width:"30%",center:""},on:{"update:visible":function(e){return t.$set(t.dialogTipContent,"visible",e)}}},[n("el-input",{attrs:{type:t.dialogTipContent.type,rows:2,maxlength:t.dialogTipContent.maxlength,placeholder:t.dialogTipContent.placeholder},model:{value:t.dialogTipContent.content,callback:function(e){t.$set(t.dialogTipContent,"content",e)},expression:"dialogTipContent.content"}}),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogTipContent.visible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogTipContent.visible=!1}}},[t._v("确 定")])],1)],1)],1)},o=[],i=n("f6c5"),s={data:function(){return{tableData:[],currentstatus:"",dialogStatus:!1,centerDialogVisible:!1,dialogTipContent:{maxlength:50,content:"",title:"",placeholder:"",type:"",visible:!1},reason:""}},created:function(){console.log(this.type),this.getList()},methods:{getList:function(){var t=this,e={type:"Banner::PostBanner",page:1,per_page:15};Object(i["d"])(e).then((function(e){console.log(e),t.tableData=e.data}))},SingleOperation:function(t,e){this.messageBox(t,e)},messageBox:function(t,e){var n=this,a={1:"上移",2:"下移",3:"删除"};this.$confirm("是否将此商品".concat(a[e]),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){if(3===e){var o={type:"Banner::PostBanner"};Object(i["b"])(t,o).then((function(t){console.log(t),n.$message({type:"success",message:"".concat(a[e],"成功")}),n.getList()}))}else if(1===e||2===e){var s=1===e?"up":"down",r=new FormData;r.append("type","Banner::PostBanner"),r.append("action",s),Object(i["f"])(t,r).then((function(t){console.log(t),n.$message({type:"success",message:"".concat(a[e],"成功")}),n.getList()}))}})).catch((function(){n.$message({type:"info",message:"已取消".concat(a[e])})}))}}},r=s,l=(n("d32e"),n("2877")),c=Object(l["a"])(r,a,o,!1,null,"a377a43c",null);e["default"]=c.exports},"912c":function(t,e,n){},d32e:function(t,e,n){"use strict";var a=n("912c"),o=n.n(a);o.a},f6c5:function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"f",(function(){return r})),n.d(e,"g",(function(){return l})),n.d(e,"b",(function(){return c})),n.d(e,"e",(function(){return u}));var a=n("b775");function o(t){return a["a"].get("banners",{params:t})}function i(t){return a["a"].post("banners",t)}function s(t,e){return a["a"].get("banners/".concat(t),{params:e})}function r(t,e){return a["a"].post("banners/".concat(t,"/sort"),e)}function l(t,e){return a["a"].patch("banners/".concat(t),e)}function c(t,e){return a["a"].delete("banners/".concat(t),{params:e})}function u(t){return a["a"].get("posts",{params:t})}}}]);