(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0278e9fc"],{"3a10":function(e,t,a){"use strict";a.d(t,"g",(function(){return s})),a.d(t,"h",(function(){return l})),a.d(t,"f",(function(){return r})),a.d(t,"e",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return u})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return p}));var n=a("b775");function s(e){return n["a"].get("orders",{params:e})}function l(e,t){return n["a"].post("orders/".concat(e,"/send"),t)}function r(e){return n["a"].get("orders/".concat(e))}function i(e){return n["a"].get("orders/".concat(e,"/express"))}function o(e){return n["a"].get("after_orders",{params:e})}function u(e,t){return n["a"].post("after_orders/".concat(e,"/after_sale"),t)}function c(e){return n["a"].get("after_orders/".concat(e))}function p(e){return n["a"].get("after_orders/".concat(e,"/express"))}},"4f19":function(e,t,a){"use strict";var n=a("ebc1"),s=a.n(n);s.a},"769b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"displayContent"},[a("el-row",[a("el-col",{attrs:{span:9}},[a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"},[e._v("下单时间")]),e._v(" "),a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions2},on:{change:e.dataTimeChange},model:{value:e.value7,callback:function(t){e.value7=t},expression:"value7"}})],1)]),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-select",{staticClass:"statusBarBtn",attrs:{size:"small",placeholder:"请选择"},on:{change:e.searchValueChange},model:{value:e.typeValue,callback:function(t){e.typeValue=t},expression:"typeValue"}},e._l(e.typeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-select",{staticClass:"statusBarBtn",attrs:{size:"small",placeholder:"请选择"},on:{change:e.searchValueChange},model:{value:e.typeDetailValue,callback:function(t){e.typeDetailValue=t},expression:"typeDetailValue"}},e._l(e.typeDetailList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"inputBox fr"},[a("el-select",{staticClass:"statusBarBtn",attrs:{size:"small",placeholder:"请选择"},on:{change:e.searchValueChange},model:{value:e.stateValue,callback:function(t){e.stateValue=t},expression:"stateValue"}},e._l(e.statesList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),"0"==e.stateValue?a("el-input",{attrs:{placeholder:"搜索商品名称",size:"small"},on:{change:e.searchValueChange},model:{value:e.listQuery.name,callback:function(t){e.$set(e.listQuery,"name",t)},expression:"listQuery.name"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},slot:"suffix"})]):e._e(),e._v(" "),"1"==e.stateValue?a("el-input",{attrs:{placeholder:"搜索售后单编号",size:"small"},on:{change:e.searchValueChange},model:{value:e.listQuery.no,callback:function(t){e.$set(e.listQuery,"no",t)},expression:"listQuery.no"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},slot:"suffix"})]):e._e()],1)])],1),e._v(" "),a("div",{staticClass:"orderList"},[a("ul",e._l(e.tableData,(function(t,n){return a("li",{key:n},[a("el-row",{staticClass:"orderTitle"},[a("el-col",{attrs:{span:24}},[a("h3",[e._v("售后单编号："+e._s(t.order.no)+"\n                "),a("span",[e._v("下单时间："+e._s(t.created_at))]),e._v(" "),a("span",[e._v("售后类型："+e._s("AfterOrder::Money"===t.type?"退款":"退货退款"))])])])],1),e._v(" "),e._l(t.order.order_products,(function(n,s){return a("el-row",{key:s,staticClass:"orderMain"},[a("el-col",{staticClass:"orderName",attrs:{span:12}},[a("div",{staticClass:"orderImg"},[a("img",{attrs:{src:n.product.default_image}})]),e._v(" "),a("div",{staticClass:"orderNum"},[a("p",[e._v(e._s(n.product.name))]),e._v(" "),a("p",[e._v("X"+e._s(n.number))])])]),e._v(" "),a("el-col",{staticClass:"orderCoin orderStyle",attrs:{span:4}},[a("p",[e._v("￥"+e._s(n.product.coin)+"金币")])]),e._v(" "),a("el-col",{staticClass:"orderStyle",attrs:{span:4}},[e._v("\n              "+e._s("apply"===t.status?"申请":"")+"\n              "+e._s("agree"===t.status?"已同意":"")+"\n              "+e._s("failed"===t.status?"已拒绝":"")+"\n              "+e._s("receive"===t.status?"已退货，待退款":"")+"\n              "+e._s("refund"===t.status?"已退款":"")+"\n            ")]),e._v(" "),a("el-col",{staticClass:"orderStyle",attrs:{span:4}},[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.goDetail(t.id)}}},[e._v("查看详情")]),e._v(" "),"apply"===t.status?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.SingleOperate(t.id,1)}}},[e._v("同意")]):e._e(),e._v(" "),"apply"===t.status?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.SingleOperate(t.id,2)}}},[e._v("拒绝")]):e._e(),e._v(" "),"agree"===t.status&&"AfterOrder::All"===t.type?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.SingleOperate(t.id,3)}}},[e._v("已收货")]):e._e()],1)],1)}))],2)})),0)]),e._v(" "),e.total?a("div",{staticClass:"pagingBox"},[a("el-pagination",{attrs:{"current-page":e.searchOption.pagination.currentPage,"page-sizes":e.searchOption.pagination.mode,"page-size":e.searchOption.pagination.defaultMode,background:"","prev-text":"上一页","next-text":"下一页",layout:"prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1):e._e()],1)])},s=[],l=(a("28a5"),a("c5f6"),a("3a10")),r={data:function(){return{statesList:[{value:"0",label:"商品名称"},{value:"1",label:"售后单编号"}],typeList:[{value:"",label:"全部类型"},{value:"AfterOrder::Money",label:"退款"},{value:"AfterOrder::All",label:"退货退款"}],typeDetailList:[{value:"",label:"全部类型"},{value:"apply",label:"申请"},{value:"agree",label:"已同意"},{value:"receive",label:"已退货，待退款"},{value:"refund",label:"已退款"},{value:"failed",label:"已拒绝"}],stateValue:"0",typeValue:"",typeDetailValue:"",tableData:[],inputSearchContent:"",searchOption:{pagination:{currentPage:1,mode:[10,20,50,100],defaultMode:10}},total:100,currentstatus:"",pickerOptions2:{shortcuts:[{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}}]},value7:"",listQuery:{page:1,order_type:"Order::CoinOrder",name:"",no:"",type:"",status:"",company_id:"",date_from:"",date_to:"",per_page:15}}},watch:{$route:function(e,t){console.log(e)},stateValue:function(e){"0"===e&&(this.listQuery.no=""),"1"===e&&(this.listQuery.name="")}},created:function(){this.getInit()},methods:{getInit:function(){var e=this;this.listQuery.page=this.searchOption.pagination.currentPage,this.listQuery.status=this.typeDetailValue,this.listQuery.type=this.typeValue;var t=this.listQuery;Object(l["c"])(t).then((function(t){console.log(t),e.tableData=t.data,e.total=Number(t.headers["x-total"])}))},handleCurrentChange:function(e){console.log(e),this.searchOption.pagination.currentPage=e,this.getInit()},goDetail:function(e){this.$router.push({path:"platformAfterSaleDetail?orderId=".concat(e)})},dataTimeChange:function(e){e[0]&&e[1]&&(this.listQuery.date_from=this.$formatDate(e[0].getTime()).split(" ")[0],this.listQuery.date_to=this.$formatDate(e[1].getTime()).split(" ")[0],this.getInit())},searchValueChange:function(){this.getInit()},SingleOperate:function(e,t){var a=this,n={1:{title:"是否同意该订单售后操作？",value:"agree"},2:{title:"是否拒绝该订单售后操作？",value:"failed"},3:{title:"确定该订单是否已收货？",value:"receive"}},s={status:n[t].value},r=this.$qs.stringify(s);this.$confirm(n[t].title,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["d"])(e,r).then((function(e){console.log(e),a.$message({message:"操作成功",type:"success"}),a.getInit()}))}))}}},i=r,o=(a("4f19"),a("2877")),u=Object(o["a"])(i,n,s,!1,null,"3797d852",null);t["default"]=u.exports},ebc1:function(e,t,a){}}]);